// Dark Mode Styles
// Applied when .dark-mode class is on html element

@use 'sass:color';
@use 'variables' as *;

html.dark-mode {
    color-scheme: dark;
    
    body {
        background-color: $dark-bg;
        color: $dark-text;
    }
    
    h1, h2, h3, h4, h5, h6 {
        color: color-mix(in srgb, $dark-text 110%, white);
    }
    
    a {
        color: #64b5f6;

        &:hover {
            color: color.adjust(#64b5f6, $lightness: 10%);
        }
    }
    
    .site-header {
        background-color: $dark-bg-secondary;
        border-bottom-color: #404040;
    }
    
    .site-footer {
        background-color: $dark-bg-secondary;
        border-top-color: #404040;
        color: $dark-text-light;
    }
    
    .book-card {
        background-color: $dark-bg-secondary;
        border-color: #404040;
        
        .book-title {
            color: color.adjust($dark-text, $lightness: 10%);
        }
        
        .book-author,
        .book-description {
            color: $dark-text-light;
        }
    }
    
    .hero-section {
        background: linear-gradient(135deg, $dark-bg-secondary 0%, color.adjust($dark-bg-secondary, $lightness: -5%) 100%);

        .hero-title {
            color: color.adjust($dark-text, $lightness: 15%);
        }
        
        .hero-subtitle {
            color: $dark-text-light;
        }
    }
    
    .book-navbar {
        background-color: $dark-bg-secondary;
        border-bottom-color: #404040;
        color: $dark-text;
    }
    
    .book-sidebar {
        background-color: $dark-bg-secondary;
        border-right-color: #404040;
        
        h2 {
            color: color.adjust($dark-text, $lightness: 10%);
        }
        
        .toc-link {
            color: $dark-text-light;
            
            &:hover,
            &.active {
                color: #64b5f6;
            }
        }
    }
    
    .book-content {
        background-color: $dark-bg;
        color: $dark-text;
    }
    
    .search-box {
        background-color: $dark-bg-secondary;
        border-color: #404040;
        
        .search-input {
            background-color: $dark-bg;
            color: $dark-text;
            
            &::placeholder {
                color: $dark-text-light;
            }
        }
    }
    
    .search-results {
        background-color: $dark-bg-secondary;
        border-color: #404040;
        
        .search-result-item {
            border-bottom-color: #404040;
            color: $dark-text-light;
            
            .search-result-title {
                color: color.adjust($dark-text, $lightness: 10%);
            }

            &:hover {
                background-color: color.adjust($dark-bg-secondary, $lightness: 5%);
            }
        }
    }
    
    .btn-primary {
        background-color: #1e88e5;
        
        &:hover {
            background-color: #1565c0;
        }
    }
    
    input, textarea {
        background-color: $dark-bg;
        color: $dark-text;
        border-color: #404040;
    }
    
    code {
        background-color: $dark-bg-secondary;
        color: #64b5f6;
    }
    
    pre {
        background-color: $dark-bg-secondary;
        color: $dark-text;
        border-left-color: #1e88e5;
    }
}

// Dark mode toggle button styling
.dark-mode-toggle {
    background: none;
    border: none;
    font-size: 1.5rem;
    cursor: pointer;
    transition: transform 0.3s ease;
    
    &:hover {
        transform: rotate(20deg) scale(1.1);
    }
}
